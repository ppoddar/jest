<!DOCTYPE HTML>
<html>
<head>
  <title>JEST</title>
  
      <script src="./pages/scripts/objectgraph.js"></script>
    <script src="./pages/scripts/placement.js"></script>
  
  <link rel="stylesheet" href="./css/objectgraph.css">
  
</head>
<body>
<h1>JEST</h1>

JEST enables persistent data to be web-accessible using REST principle.
<p>
Most Java based application models a domain as a set of Enity classes.
The entity classes are similar to any other Java classes (that is why they
are called POJO or Plain Old Java Object). 
<p>
The entity instances are stored in a relational database. The entity definitions
define a relational schema and entity instances are stored as records
following that schema.
<p>

<input type="button" value="JEST  Demo!" onclick="showObjectModel();">

  
<div id='canvas' width="400px" height="400px"></canvas></div>



<script>
function showObjectModel() {

var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function() {
        if (xmlhttp.readyState == XMLHttpRequest.DONE ) {
           if (xmlhttp.status == 200) {
               var data = JSON.parse(xmlhttp.responseText);
               //console.log('AJAX Response:' + JSON.stringify(data,2));
               var model = new ObjectGraph()
					.createModel(data, 
					document.getElementById('canvas'));
           }
           else if (xmlhttp.status == 400) {
              alert('There was an error 400');
           }
           else {
               alert('something else other than 200 was returned');
           }
        }
    };

    xmlhttp.open("GET", "./jest/", true);
    xmlhttp.send();
} 

</script>

</body>

</html>